{"version":3,"sources":["webpack:///./src/front/hoc/withEnterAnimation/index.js","webpack:///./src/front/hoc/withEnterAnimation/styled/AnimatedDiv.js","webpack:///./src/front/hoc/withEnterAnimation/withEnterAnimation.js","webpack:///./src/front/pages/wo/Wo.js","webpack:///./src/front/pages/wo/index.js"],"names":["fadeIn","AnimatedDiv","styled","div","viewEnter","withEnterAnimation","BaseComponent","WithEnterAnimation","passProps","props","displayName","wrapDisplayName","getParams","matchProfile","matchPath","pathname","path","params","WoPage","renderWo","wo","readyStatus","data","Object","entries","map","f","fetchWoIfNeeded","catalogId","prevProps","prevState","location","prevPathname","currentParams","prevParams","React","PureComponent","mapStateToProps","state","ownProps","match","mapDispatchToProps","bindActionCreators","dispatch","compose","connect"],"mappings":";;;;;;;;;;;;AAEA;;AAEA,+DAAe,2DAAf,E;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;;AAEA,IAAMA,SAAS,mEAAT,iBAAN;;AAUA,IAAMC,cAAc,yDAAAC,CAAOC,GAArB,mBACF;AAAA,MAAGC,SAAH,QAAGA,SAAH;AAAA,SACAA,aACA,6DADA,mBAGoBJ,MAHpB,CADA;AAAA,CADE,CAAN;;AAaA,+DAAeC,WAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;AAEA;;AAIA;;AAEA,SAASI,kBAAT,GAA8B;AAC5B,SAAO,UAACC,aAAD,EAAwB;AAAA,QACvBC,kBADuB;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,iCAElB;AAAA,cACIC,SADJ,4BACkB,KAAKC,KADvB;;AAGP,iBACE;AAAC,uEAAD;AAAA,cAAa,WAAW,IAAxB;AACE,uEAAC,aAAD,EAAmBD,SAAnB;AADF,WADF;AAKD;AAV0B;;AAAA;AAAA,MACI,+CADJ;;AAa7B;;;AACA,QAAI,IAAJ,EAA2C;AACzC;AACAD,yBAAmBG,WAAnB,GAAiC,gEAAAC,CAC/BL,aAD+B,EAE/B,oBAF+B,CAAjC;AAID;AACD;;AAEA,WAAOC,kBAAP;AACD,GAxBD;AAyBD;;AAED,+DAAeF,kBAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;ACxCA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;;AASA,IAAMO,YAAY,SAAZA,SAAY,WAAY;AAC5B,MAAMC,eAAe,kEAAAC,CAAUC,QAAV,EAAoB;AACvCC,UAAM;AADiC,GAApB,CAArB;AAGA,SAAQH,gBAAgBA,aAAaI,MAA9B,IAAyC,EAAhD;AACD,CALD;;IAMqBC,M;;;;;;;;;;;;;;sLAqBnBC,Q,GAAW,YAAM;AAAA,UACPC,EADO,GACA,MAAKX,KADL,CACPW,EADO;;;AAGf,UACE,CAACA,GAAGC,WAAJ,IACAD,GAAGC,WAAH,KAAmB,YADnB,IAEAD,GAAGC,WAAH,KAAmB,eAHrB,EAIE;AACA,eAAO;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;AACD,UAAID,GAAGC,WAAH,KAAmB,YAAvB,EAAqC;AACnC,eAAO;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;AAZc,UAcPC,IAdO,GAeXF,EAfW,CAcbA,EAda,CAcPE,IAdO;;AAgBf,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEGC,eAAOC,OAAP,CAAeF,IAAf,EAAqBG,GAArB,CAAyB,aAAK;AAC7B,iBACE;AAAA;AAAA,cAAK,KAAKC,EAAE,CAAF,CAAV;AACGA,cAAE,CAAF,CADH;AAAA;AACWA,cAAE,CAAF;AADX,WADF;AAKD,SANA;AAFH,OADF;AAYD,K;;;;;wCAhDmB;AAAA,mBACqB,KAAKjB,KAD1B;AAAA,UACVkB,eADU,UACVA,eADU;AAAA,UACOC,SADP,UACOA,SADP;;AAElBD,sBAAgBC,SAAhB;AACD;;;uCAEkBC,S,EAAWC,S,EAAW;AAAA,UAC/Bf,QAD+B,GAClB,KAAKN,KAAL,CAAWsB,QADO,CAC/BhB,QAD+B;AAAA,UAErBiB,YAFqB,GAEJH,UAAUE,QAFN,CAE/BhB,QAF+B;;;AAIvC,UAAMkB,gBAAgBrB,UAAUG,QAAV,CAAtB;AACA,UAAMmB,aAAatB,UAAUoB,YAAV,CAAnB;;AAEA,UACEC,cAAcL,SAAd,IACAK,cAAcL,SAAd,KAA4BM,WAAWN,SAFzC,EAGE;AAAA,YACQD,gBADR,GAC4B,KAAKlB,KADjC,CACQkB,eADR;;AAEAA,yBAAgBM,cAAcL,SAA9B;AACD;AACF;;;6BA+BQ;AACP,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AAAA;AAAA;AAAM,eAAKT,QAAL,EAAN;AAAA;AAAA;AAFF,OADF;AAMD;;;;EA1DiC,4CAAAgB,CAAMC,a;;+DAArBlB,M;;;;;;;;;;;;;;;;;;;;;;ACzCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMmB,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC3C,SAAO;AACLX,eAAWW,SAASC,KAAT,CAAevB,MAAf,CAAsBW,SAD5B;AAELR,QAAIkB,MAAMlB;AAFL,GAAP;AAID,CALD;;AAOA,IAAMqB,qBAAqB,SAArBA,kBAAqB,WAAY;AACrC,SAAO,gEAAAC,cAEA,2DAFA,GAILC,QAJK,CAAP;AAMD,CAPD;AAQA;;AAEA,+DAAe,wDAAAC,CACb,uEAAAvC,EADa,EAEb,2DAAAwC,CACER,eADF,EAEEI,kBAFF,CAFa,EAMb,2CANa,CAAf,E","file":"0.js","sourcesContent":["// @flow\n\nimport withEnterAnimation from './withEnterAnimation';\n\nexport default withEnterAnimation;\n","// @flow\n\n// @region imports\nimport styled, { keyframes, css } from 'styled-components';\n// #endregion\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n`;\n\nconst AnimatedDiv = styled.div`\n  ${({ viewEnter }) =>\n    viewEnter &&\n    css`\n      opacity: 0;\n      animation-name: ${fadeIn};\n      animation-timing-function: ease-in;\n      animation-duration: 0.7s;\n      animation-delay: 0s;\n      animation-fill-mode: both;\n    `};\n`;\n\nexport default AnimatedDiv;\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport AnimatedDiv from './styled/AnimatedDiv';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withEnterAnimation() {\n  return (BaseComponent: any) => {\n    class WithEnterAnimation extends Component<Props, State> {\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AnimatedDiv viewEnter={true}>\n            <BaseComponent {...passProps} />\n          </AnimatedDiv>\n        );\n      }\n    }\n\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n      WithEnterAnimation.displayName = wrapDisplayName(\n        BaseComponent,\n        'withEnterAnimation',\n      );\n    }\n    /* eslint-enable no-process-env */\n\n    return WithEnterAnimation;\n  };\n}\n\nexport default withEnterAnimation;\n","// @flow\n\nimport React from 'react';\nimport { Link, Route, matchPath } from 'react-router-dom';\nimport { woActions } from '../../redux/modules/wo';\n\n/*\nconst Wo = ({ match, data }) => {\n  return (\n    <div>\n      {' '}\n      <h3>Work order form here</h3>\n      <Route\n        path={`${match.path}`}\n        render={({ match }) => (\n          <div>\n            {' '}\n            <h3> {match.params.id} </h3>\n          </div>\n        )}\n      />\n    </div>\n  );\n};\nexport default Wo;\n*/\n\n// Export this for unit testing more easily\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  wo: CatalogType,\n  fetchWoIfNeeded: () => void,\n  ...any,\n};\n\nconst getParams = pathname => {\n  const matchProfile = matchPath(pathname, {\n    path: '/catalog/:catalogId',\n  });\n  return (matchProfile && matchProfile.params) || {};\n};\nexport default class WoPage extends React.PureComponent<Props> {\n  componentDidMount() {\n    const { fetchWoIfNeeded, catalogId } = this.props;\n    fetchWoIfNeeded(catalogId);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { pathname } = this.props.location;\n    const { pathname: prevPathname } = prevProps.location;\n\n    const currentParams = getParams(pathname);\n    const prevParams = getParams(prevPathname);\n\n    if (\n      currentParams.catalogId &&\n      currentParams.catalogId !== prevParams.catalogId\n    ) {\n      const { fetchWoIfNeeded } = this.props;\n      fetchWoIfNeeded(currentParams.catalogId);\n    }\n  }\n  renderWo = () => {\n    const { wo } = this.props;\n\n    if (\n      !wo.readyStatus ||\n      wo.readyStatus === 'WO_INVALID' ||\n      wo.readyStatus === 'WO_REQUESTING'\n    ) {\n      return <p> Loading... </p>;\n    }\n    if (wo.readyStatus === 'WO_FAILURE') {\n      return <p> Oops, Failed to load wo list! </p>;\n    }\n    const {\n      wo: { data },\n    } = wo;\n    return (\n      <div>\n        <h3>Work order form</h3>\n        {Object.entries(data).map(f => {\n          return (\n            <div key={f[0]}>\n              {f[0]}: {f[1]}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>wo...</h4>\n        <div>{this.renderWo()} </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\n// #region imports\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport compose from 'recompose/compose';\nimport Wo from './Wo';\nimport { woActions } from '../../redux/modules/wo';\nimport withEnterAnimation from '../../hoc/withEnterAnimation';\n// #endregion\n// #region redux map state and dispatch to props\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    catalogId: ownProps.match.params.catalogId,\n    wo: state.wo,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      ...woActions,\n    },\n    dispatch,\n  );\n};\n// #endregion\n\nexport default compose(\n  withEnterAnimation(/* no option yet */),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Wo);\n"],"sourceRoot":""}